<div class="container">
  <h1 class="text-center my-4">Shelters</h1>

  <%= form_with url: shelters_path, method: :get, local: true, class: 'mb-4' do %>
    <div class="row g-3">
      <div class="col-md-5">
        <div class="form-group">
          <%= label_tag :search, "Search", class: 'form-label' %>
          <%= text_field_tag :search, params[:search], class: 'form-control' %>
        </div>
      </div>
      <div class="col-md-5">
        <div class="form-group">
          <%= label_tag :category, "Category", class: 'form-label' %>
          <%= select_tag :category, options_from_collection_for_select(Category.all, :id, :name, params[:category]), include_blank: true, class: 'form-control' %>
        </div>
      </div>
      <div class="col-md-2 mb-3 d-flex align-items-end">
        <%= submit_tag "Search", class: 'btn btn-primary w-100' %>
      </div>
    </div>
  <% end %>

  <div class="row">
    <% @shelters.each do |shelter| %>
      <div class="col-md-6 mb-4">
        <div class="card h-100">
          <div class="card-body">
            <h2 class="card-title"><%= link_to shelter.name, shelter_path(shelter) %></h2>
            <p class="card-text"><%= shelter.city %>, <%= shelter.state %>, <%= shelter.country %></p>
          </div>
          <div class="card-footer">
            <%= link_to 'View Details', shelter_path(shelter), class: 'btn btn-success' %>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <div class="d-flex justify-content-center">
    <%= paginate @shelters, theme: 'bootstrap-4' %>
  </div>
</div>